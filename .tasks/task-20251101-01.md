# Task 20251101-01: User-Prompted Translation CLI Integration
Linked Spec: SPEC-USER-PROMPTED-001
Goal:
Implement user-prompted translation mode allowing manual triggering when token threshold (40000) is reached, enabling parallel collection and translation with CLI menu integration.

Steps:
- Modify FileWatcher to support auto_translate parameter (default: True for backward compatibility)
- Add user-prompted mode state management (ready flag, token accumulation, threshold progression)
- Implement manual trigger methods: `is_translation_ready()`, `trigger_translation_manual()`, `get_current_threshold()`
- Add proxy methods to ConcurrentOrchestrator for CLI integration
- Integrate TextPreprocessor with orchestrator for translation status display and 'T' key handler
- Add exit confirmation when untranslated content exists
- Create comprehensive test suite verifying all acceptance criteria
- Update specs with traceability annotations

DoD Checklist:
- [x] FileWatcher implements user-prompted mode with auto_translate parameter
- [x] Threshold progression works correctly (40k → 80k → 120k tokens)
- [x] Manual trigger API implemented and tested
- [x] ConcurrentOrchestrator proxy methods added
- [x] TextPreprocessor displays translation status in menu
- [x] 'T' key handler triggers translation when ready
- [x] Exit confirmation prevents data loss
- [x] All tests pass (48 original + 6 new = 54 total)
- [x] Coverage maintained above 85% threshold
- [x] Linting passes with no violations
- [x] Trace comments added to all modified files
- [ ] Integration tests for CLI interaction
- [ ] Manual testing of user workflow
- [ ] Commit with conventional commit message and trace metadata
