# Task 20251028-01: Spec & Traceability Alignment
Linked Spec: SPEC-TRANSLATION-001, SPEC-TEXT-PREP-001, SPEC-TOKEN-COUNTER-001 (new)
Goal:
Establish accurate spec-to-test traceability and close gaps between current implementation and documented behaviour before code changes.

Steps:
- Inventory existing tests to assign/confirm TEST-IDs mapped to each AC.
- Update `.spec/feature/translation/spec.md` to reflect `StreamingTranslator` surface, streaming behaviour, and failure handling description.
- Create `.spec/feature/token-counter/spec.md` capturing singleton, thread safety, and error handling requirements already enforced by tests.
- Expand tracing sections in affected specs to list implementation files/tests; add `Trace: SPEC-ID, TEST-ID` comments to relevant modules and test cases.
- Document open questions (if any) in `.tasks/backlog.md` for future triage.

DoD Checklist:
- [x] All affected specs updated with current API surface and AC â†” TEST-ID mapping.
- [x] New TokenCounter spec committed with Spec-ID and examples.
- [x] Source files/tests touched include `Trace: SPEC-ID, TEST-ID` annotations per constitution.
- [x] Outstanding ambiguities captured in backlog (or confirmed none).
- [x] `uv run pytest` passes after annotation changes (format-only).
